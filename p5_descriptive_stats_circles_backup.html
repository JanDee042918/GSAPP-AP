<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<script src="//use.typekit.net/hgl4qxi.js"></script>
	<script>try{Typekit.load();}catch(e){}</script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" src="p5/p5.js"></script>
	<style>
	html, body{
		margin: 0;
		padding: 0;
		background: white;
	}
	</style>
</head>
<script type="text/javascript">

var WIDTH = 650;
var HEIGHT = 275;
var leftMargin = 0;
var column = 1;
var data = 0;
var buttonX = 26;
var buttonY = 80;
var buttonSpacing = 110;
var fillGSAPP;
var fillAP;
var valueGSAPPA = [];
var valueGSAPPB = [];
var valueGSAPPC = [];
var valueSurveyA = [];
var valueSurveyB = [];
var valueSurveyC = [];
var startFrame, endFrame;
var transitionFrames = 100;
var maxCircleRadius, maxArea;
var framesRemaining = 0;


function preload(){
	totalGraduatesTable = loadTable('data/Total_Graduates.csv');
	surveyGraduatesTable = loadTable('data/Degrees.csv');
	console.log('done loading data');
}

function setup(){
	createCanvas(WIDTH, HEIGHT);
	colorMode(HSB, 360, 100, 100, 100);
	fillGSAPP = color(180, 64, 76);
	//fillAP = color(3, 78, 95);
	fillAP = color(8, 48, 94);
	textFont("effra");

	// Setup starting values
	maxCircleRadius = 75;
	maxArea = PI*pow((maxCircleRadius/2),2);
	var cirlceArea = 0;
	var maxGraduates = 0;
	var totalGraduates = 0;
	for (var i = 1; i < 8; i++) {
		maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
		totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
	};
	for (var i = 1; i < 8; i++) {
		circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
		valueGSAPPC[i-1] = sqrt(circleArea/PI)*2;
	};
	cirlceArea = 0;
	maxGraduates = 0;
	totalGraduates = 0;
	for (var i = 1; i < 8; i++) {
		maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
		totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
	};
	for (var i = 1; i < 8; i++) {
		circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
		valueSurveyC[i-1] = sqrt(circleArea/PI)*2;
	};
	console.log('valueGSAPPC = ' + valueGSAPPC);
	console.log('valueSurveyC = ' + valueSurveyC);
}

function draw(){
	background(100);

	//Text
	fill(0);
	noStroke();
	textStyle(BOLD);
	textSize(36);
	text("GSAPP", leftMargin, 30);
	textStyle(NORMAL);
	textSize(18);
	text("ALUMNI PROJECT", leftMargin, 50);
	textSize(18);
	textLeading(20);
	text("NUMBER OF PARTICIPANTS", 190, 3, 150, 100);
	stroke(0);
	strokeWeight(1);
	line(178, 3, 178, 50);
	textSize(20);

	//Buttons
	textSize(12);
	noFill();
	stroke(0);
	strokeWeight(3);
	for (var i = 0; i < 3; i++) {
		ellipse(buttonX+buttonSpacing*i, buttonY, 12, 12);
	};
	for (var i = 0; i < 6; i++) {
		ellipse(buttonX+buttonSpacing*i, buttonY+30, 12, 12);
	};

	fill(0);
	noStroke();
	textStyle(NORMAL);
	text("GSAPP", buttonX+10, buttonY+3);
	text("OUR SURVEY", buttonX+buttonSpacing+10, buttonY+3);
	text("COMPARISON", buttonX+buttonSpacing*2+10, buttonY+3);
	ellipse(buttonX+buttonSpacing*(column-1), buttonY+30, 7, 7);
	ellipse(buttonX+buttonSpacing*(data), buttonY, 7, 7);
	textStyle(NORMAL);
	for (var i = 1; i < 7; i++) {
		text(totalGraduatesTable.getColumn(i)[0], buttonX+10+buttonSpacing*(i-1), buttonY+33);
	};

	if(frameCount > 0){
		if (data < 2){
			circleChart();
		}
		else{
			circleChart2();
		}
	}

	framesRemaining = frameCount - startFrame;
	if (framesRemaining < transitionFrames){
		updateValues();
	}
}

function circleChart2(){
	var circleStartY = 200;
	var circleStartX = 50;
	var maxCircleRadius = 75;
	var maxArea = PI*pow((maxCircleRadius/2),2);
	var cirlceArea = 0;
	var circleRadius = 0;
	var maxGraduates = 0;
	var major;
	var totalGraduates = 0;
	var circleBottom = 0;

	for (var i = 1; i < 8; i++) {
		maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
	};
	for (var i = 1; i < 8; i++) {
		totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
	};

	fill(0);
	noStroke();
	textSize(12);
	textAlign(CENTER);
	for (var i = 1; i < 8; i++) {
		major = totalGraduatesTable.getColumn(0)[i];
		text(major.toUpperCase(), circleStartX+90*(i-1), circleStartY-50);
		text(totalGraduatesTable.getColumn(column)[i+8]+"/"+totalGraduatesTable.getColumn(column)[i], circleStartX+90*(i-1), circleStartY+55);
		text("("+round(totalGraduatesTable.getColumn(column)[i+8]/totalGraduatesTable.getColumn(column)[i]*100)+"%)", circleStartX+90*(i-1), circleStartY+70);
	};

	noFill();
	stroke(0);
	strokeWeight(0.5);
	for (var i = 0; i < 7; i++) {
		line(circleStartX+90*i-25, circleStartY-45, circleStartX+90*i+25, circleStartY-45);
	};
	noStroke();
	for (var i = 0; i < 7; i++) {
		fill(fillGSAPP);
		ellipse(circleStartX+90*(i), circleStartY, valueGSAPPC[i], valueGSAPPC[i]);
		circleBottom = circleStartY + valueGSAPPC[i]/2;
		//fill(0, 0, 100);
		//fill(182, 29, 85);
		fill(fillAP);
		ellipse(circleStartX+90*(i), circleBottom - valueSurveyC[i]/2, valueSurveyC[i], valueSurveyC[i]);
	};

}

function circleChart(){
	var circleStartY = 200;
	var circleStartX = 50;
	var maxCircleRadius = 75;
	var maxArea = PI*pow((maxCircleRadius/2),2);
	var cirlceArea = 0;
	var maxGraduates = 0;
	var major;
	var totalGraduates = 0;
	var GSAPP = 8*data;

	for (var i = 1; i < 8; i++) {
		maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+GSAPP]);
	};
	for (var i = 1; i < 8; i++) {
		totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+GSAPP]*1;
	};

	fill(0);
	noStroke();
	textSize(12);
	textAlign(CENTER);
	for (var i = 1; i < 8; i++) {
		major = totalGraduatesTable.getColumn(0)[i];
		text(major.toUpperCase(), circleStartX+90*(i-1), circleStartY-50);
		text(totalGraduatesTable.getColumn(column)[i+GSAPP], circleStartX+90*(i-1), circleStartY+55);
		text("("+round(totalGraduatesTable.getColumn(column)[i+GSAPP]/totalGraduates*100)+"%)", circleStartX+90*(i-1), circleStartY+70);
	};

	noFill();
	stroke(0);
	strokeWeight(0.5);
	for (var i = 0; i < 7; i++) {
		line(circleStartX+90*i-25, circleStartY-45, circleStartX+90*i+25, circleStartY-45);
	};
	if (data == 0){
		fill(fillGSAPP);
	}
	else {
		fill(fillAP);
	}
	noStroke();
	if (data == 0){
		for (var i = 0; i < 7; i++) {
			ellipse(circleStartX+90*(i), circleStartY, valueGSAPPC[i], valueGSAPPC[i]);
		};
	}
	if (data == 1){
		for (var i = 0; i < 7; i++) {
			ellipse(circleStartX+90*(i), circleStartY, valueSurveyC[i], valueSurveyC[i]);
		};
	}
}

function updateValues(){
	for (var i=0; i<valueGSAPPA.length; i++){
		valueGSAPPC[i] = lerp(valueGSAPPA[i], valueGSAPPB[i], (framesRemaining/transitionFrames));
		valueSurveyC[i] = lerp(valueSurveyA[i], valueSurveyB[i], (framesRemaining/transitionFrames));
	}
}

function mousePressed(){
	if (mouseX > buttonX-6 && mouseX < buttonX+6 && mouseY > buttonY-6 && mouseY < buttonY+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		data = 0;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		for (var i = 1; i < 8; i++) {
			maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
			totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
		};
		for (var i = 1; i < 8; i++) {
			circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
			valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
		};
		circleArea = 0;
		maxGraduates = 0;
		totalGraduates = 0;
		valueSurveyA = valueSurveyC;
		for (var i = 1; i < 8; i++) {
			maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
			totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
		};
		for (var i = 1; i < 8; i++) {
			circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
			valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
		};
	}

	if (mouseX > buttonX+buttonSpacing-6 && mouseX < buttonX+buttonSpacing+6 && mouseY > buttonY-6 && mouseY < buttonY+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		data = 1;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		for (var i = 1; i < 8; i++) {
			maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
			totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
		};
		for (var i = 1; i < 8; i++) {
			circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
			valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
		};
		valueSurveyA = valueSurveyC;
		circleArea = 0;
		maxGraduates = 0;
		totalGraduates = 0;
		for (var i = 1; i < 8; i++) {
			maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
			totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
		};
		for (var i = 1; i < 8; i++) {
			circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
			valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
		};
		console.log("data = 1");
	}

	if (mouseX > buttonX+buttonSpacing*2-6 && mouseX < buttonX+buttonSpacing*2+6 && mouseY > buttonY-6 && mouseY < buttonY+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		valueSurveyA = valueSurveyC;
		data = 2;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		for (var i = 1; i < 8; i++) {
			maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
			totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
		};
		for (var i = 1; i < 8; i++) {
			circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
			valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
		};
		for (var i = 1; i < 8; i++) {
			circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
			valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
		};
		console.log("data = 2");
	}

	if (mouseX > buttonX-6 && mouseX < buttonX+6 && mouseY > buttonY+30-6 && mouseY < buttonY+30+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		valueSurveyA = valueSurveyC;
		column = 1;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		if(data < 2){
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			circleArea = 0;
			maxGraduates = 0;
			totalGraduates = 0;
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
		else{
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
	}
	if (mouseX > buttonX+buttonSpacing-6 && mouseX < buttonX+buttonSpacing+6 && mouseY > buttonY+30-6 && mouseY < buttonY+30+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		valueSurveyA = valueSurveyC;
		column = 2;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		if(data < 2){
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			circleArea = 0;
			maxGraduates = 0;
			totalGraduates = 0;
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
		else{
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
	}
	if (mouseX > buttonX+buttonSpacing*2-6 && mouseX < buttonX+buttonSpacing*2+6 && mouseY > buttonY+30-6 && mouseY < buttonY+30+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		valueSurveyA = valueSurveyC;
		column = 3;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		if(data < 2){
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			circleArea = 0;
			maxGraduates = 0;
			totalGraduates = 0;
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
		else{
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
	}
	if (mouseX > buttonX+buttonSpacing*3-6 && mouseX < buttonX+buttonSpacing*3+6 && mouseY > buttonY+30-6 && mouseY < buttonY+30+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		valueSurveyA = valueSurveyC;
		column = 4;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		if(data < 2){
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			circleArea = 0;
			maxGraduates = 0;
			totalGraduates = 0;
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
		else{
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
	}
	if (mouseX > buttonX+buttonSpacing*4-6 && mouseX < buttonX+buttonSpacing*4+6 && mouseY > buttonY+30-6 && mouseY < buttonY+30+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		valueSurveyA = valueSurveyC;
		column = 5;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		if(data < 2){
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			circleArea = 0;
			maxGraduates = 0;
			totalGraduates = 0;
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
		else{
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
	}
	if (mouseX > buttonX+buttonSpacing*5-6 && mouseX < buttonX+buttonSpacing*5+6 && mouseY > buttonY+30-6 && mouseY < buttonY+30+6){
		startFrame = frameCount;
		valueGSAPPA = valueGSAPPC;
		valueSurveyA = valueSurveyC;
		column = 6;
		var cirlceArea = 0;
		var maxGraduates = 0;
		var totalGraduates = 0;
		if(data < 2){
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			circleArea = 0;
			maxGraduates = 0;
			totalGraduates = 0;
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i+8]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i+8]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
		else{
			for (var i = 1; i < 8; i++) {
				maxGraduates = max(maxGraduates, totalGraduatesTable.getColumn(column)[i]);
				totalGraduates = totalGraduates + totalGraduatesTable.getColumn(column)[i]*1;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i], 0, maxGraduates, 0, maxArea);
				valueGSAPPB[i-1] = sqrt(circleArea/PI)*2;
			};
			for (var i = 1; i < 8; i++) {
				circleArea = map(totalGraduatesTable.getColumn(column)[i+8], 0, maxGraduates, 0, maxArea);
				valueSurveyB[i-1] = sqrt(circleArea/PI)*2;
			};
		}
	}
}

</script>